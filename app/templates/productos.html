{% extends "base.html" %} {% block content %}
<h2>Gestión de Productos</h2>

<h3>Agregar Nuevo Producto</h3>
<form method="POST">
  <label>Nombre:</label>
  <input type="text" name="nombre" required />

  <label>Descripción:</label>
  <input type="text" name="descripcion" required />

  <label>Precio:</label>
  <input type="number" step="0.01" name="precio" required />

  <label>Stock:</label>
  <input type="number" step="0.01" name="stock" required />

  <button type="submit">Agregar Producto</button>
</form>

<h3>Lista de Productos</h3>
{% if productos %}
<table border="1">
  <tr>
    <th>Nombre</th>
    <th>Descripción</th>
    <th>Precio</th>
    <th>Stock Disponible</th>
    <th>Fecha de Creación</th>
    <th>Acción</th>
  </tr>
  {% for producto in productos %}
  <tr>
    <td>{{ producto.nombre }}</td>
    <td>{{ producto.descripcion }}</td>
    <td>${{ producto.precio }}</td>
    <td>{{ producto.stock }}</td>
    <td>{{ producto.fecha_creacion }}</td>
    <td>
      <a
        href="{{ url_for('routes.eliminar_producto', id=producto.id) }}"
        onclick="return confirm('¿Estás seguro de eliminar este producto?')"
      >
        Eliminar
      </a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No hay productos registrados aún.</p>
{% endif %}

<a href="{{ url_for('routes.dashboard') }}">Volver</a>

{% endblock %}
